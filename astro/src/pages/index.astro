---
import Layout from '../layouts/Layout.astro'
import EmojiText from '../components/EmojiText.astro'
import lastfm from '../lib/lastfm.ts'
import config from '../config.ts'

const currentYear = new Date().getFullYear()
const topAlbums = (await lastfm.getTopAlbumsCover(config.lastFmUsername)).slice(0, 9)
---

<Layout title="Welcome to Astro.">
  <section class="intro paper prose">
    <h2>Glad To Meet You!</h2>
    <p>My name is Eli I only really write in lists, so here's my deal.</p>
    <ul>
      <li>
        I am a{' '}
        <EmojiText emoji="ðŸ§‘â€ðŸ’»" label="computer programmer emoji">
        <strong>full stack web engineer</strong>
        </EmojiText>
        .
      </li>
      <li>
        I love to plan and{' '}
        <EmojiText emoji="ðŸ‘¨â€ðŸ³" label="chef emoji">
        <strong>cook elaborate meals</strong>
        </EmojiText>
        . It really activates the engineering part of my brain!
      </li>
      <li>
        I have a{' '}
        <EmojiText emoji="ðŸ¤“" label="geek emoji">
        <strong>non-traditional computer science education</strong>
        </EmojiText>
        . I attended a vocational school in high school, taught myself web
        programming, bounced around colleges for computer science while
        working the entire time before deciding to go pro!
      </li>
      <li>
        I am a
        <strong>Vim user</strong> but I actively encourage everyone to use
        something else. Using Vim in {currentYear} is a cool
        bar trick.
      </li>
      <li>
        I currently live in{' '}
        <EmojiText emoji="ðŸ“" label="pin emoji to denote location">
        <strong>Astoria, Queens</strong>
        </EmojiText>
        . I didn't think I would settle down in Queens and love it as much
        as I do, but life is like that sometimes.
      </li>
      <li>
        I have a{' '}
        <EmojiText
        emoji="ðŸ˜¼"
        label="smirking cat emoji because Fonzie is a stinker"
        >
        <strong>fat cat named Fonzie</strong>
        </EmojiText>{' '}
        and I sorta have{' '}
        <a href="https://twitter.com/EliGundry/status/1055933062125703168">
          a tattoo of him on my arm
        </a>
        .
      </li>
    </ul>
  </section>

  <section class="listening paper prose">
    <h2>What I'm Listening To</h2>
    <p>
      I listen to way too much music and I love to listen to full albums. I mainly listen to hip hop, indie rock and <a href="/blog/icymi-glocca-morra-just-married"><abbr title="Ask me about the fun 5th wave emo bands I love">emo</abbr></a>.
      I occasionally write reviews of old albums that I love but aren't well known in a series called <a href="/tags/icymi"><abbr title="I See You Missed It">ICYMI</abbr></a>.
    </p>
    <div class="flex flex-col sm:flex-row sm:gap-4">
      <div class="sm:items-stretch flex flex-col">
        <h3 class="mt-0">Seasonal Playlist</h3>
        <iframe
          title="Spotify playlist that I have on repeat"
          src={config.spotifyPlaylist}
          frameborder="0"
          allow="encrypted-media"
          loading="lazy"
          class="w-full sm:w-[300px] h-[380px] sm:flex-1"
        />
      </div>
      <div>
        <h3 class="mt-2 sm:mt-0">On Repeat</h3>
        <a href="https://www.last.fm/user/eli_pwnd" class="grid grid-cols-3 h-fit gap-0 not-prose">
          {topAlbums.map(album => {
            const alt = `${album.album} by ${album.artist} [${album.count} scrobbles]`
            return (
              <img alt={alt} data-tip={alt} class="tooltip" src={album.cover} />
            )
          })}
        </a>
      </div>
    </div>
  </section>
</Layout>
